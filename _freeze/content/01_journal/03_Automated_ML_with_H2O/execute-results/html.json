{
  "hash": "545e77dc1f66b1617f69485f923f9b1e",
  "result": {
    "markdown": "---\ntitle: \"Automated Machine Learning with H2O\"\nauthor: \"Ramprasath Muhundhan\"\n---\n\n\n#Challenge 1\n\n1. Compensation Features\n\nQ: What can you deduce about the interaction between Monthly Income and Attrition?\nA: Those that are leaving have a lower Monthly Income\n\nQ: What can you deduce about the interaction between Percent Salary Hike and Attrition?\nA: Those that are leaving have lower Percent Salary Hike\n\nQ: What can you deduce about the interaction between Stock Option Level and Attrition?\nA: It's difficult to deduce anything based on the visualization\n\n2. Survey Results\n\nQ: What can you deduce about the interaction between Environment Satisfaction and Attrition?\nA:  higher proportion of those leaving have a low environment satisfaction level\n\nQ: What can you deduce about the interaction between Work Life Balance and Attrition?\nA: Those that are staying have a higher density of 2's and 3's\n\n3. Performance Data\n\nQ: What Can you deduce about the interaction between Job Involvement and Attrition?\nA: Those that are leaving have a lower density of 3’s and 4’s\n\n4. Work-Life Feature\n\nQ: What can you deduce about the interaction between Over Time and Attrition?\nA: The proportion of those staying that are working Over Time are high compared to those that are not staying\n\n5. Training and Education\n\nQ: What can you deduce about the interaction between Training Times Last Year and Attrition?\nA: It's difficult to deduce anything based on the visualization\n\n6. Time-Based Feature\n\nQ: What can you deduce about the interaction between Years At Company and Attrition?\nA: People that leave tend to have less working years at the company\n\nQ: What can you deduce about the interaction between Years Since Last Promotion and Attrition?\nA: Those that are leaving have fewer years since last promotion than those that are staying\n\n\n\n#challenge 2\n\n\n::: {.cell hash='03_Automated_ML_with_H2O_cache/html/unnamed-chunk-1_dff728064964613b46c6f99fa163538d'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n#> ✔ dplyr     1.1.2     ✔ readr     2.1.4\n#> ✔ forcats   1.0.0     ✔ stringr   1.5.0\n#> ✔ ggplot2   3.4.2     ✔ tibble    3.2.1\n#> ✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n#> ✔ purrr     1.0.1     \n#> ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n#> ✖ dplyr::filter() masks stats::filter()\n#> ✖ dplyr::lag()    masks stats::lag()\n#> ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(readxl)\nlibrary(h2o)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n#> ----------------------------------------------------------------------\n#> \n#> Your next step is to start H2O:\n#>     > h2o.init()\n#> \n#> For H2O package documentation, ask for help:\n#>     > ??h2o\n#> \n#> After starting H2O, you can use the Web UI at http://localhost:54321\n#> For more information visit https://docs.h2o.ai\n#> \n#> ----------------------------------------------------------------------\n#> \n#> \n#> Attaching package: 'h2o'\n#> \n#> The following objects are masked from 'package:lubridate':\n#> \n#>     day, hour, month, week, year\n#> \n#> The following objects are masked from 'package:stats':\n#> \n#>     cor, sd, var\n#> \n#> The following objects are masked from 'package:base':\n#> \n#>     %*%, %in%, &&, ||, apply, as.factor, as.numeric, colnames,\n#>     colnames<-, ifelse, is.character, is.factor, is.numeric, log,\n#>     log10, log1p, log2, round, signif, trunc\n```\n:::\n\n```{.r .cell-code}\nlibrary(recipes)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n#> Attaching package: 'recipes'\n#> \n#> The following object is masked from 'package:stringr':\n#> \n#>     fixed\n#> \n#> The following object is masked from 'package:stats':\n#> \n#>     step\n```\n:::\n\n```{.r .cell-code}\nlibrary(rsample)\n```\n:::\n\n::: {.cell hash='03_Automated_ML_with_H2O_cache/html/unnamed-chunk-2_8ee06bc538d1027c026671ac140cb3b1'}\n\n```{.r .cell-code}\nh2o.init()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#>  Connection successful!\n#> \n#> R is connected to the H2O cluster: \n#>     H2O cluster uptime:         20 minutes 26 seconds \n#>     H2O cluster timezone:       Europe/Berlin \n#>     H2O data parsing timezone:  UTC \n#>     H2O cluster version:        3.40.0.4 \n#>     H2O cluster version age:    1 month and 18 days \n#>     H2O cluster name:           H2O_started_from_R_rampr_ten858 \n#>     H2O cluster total nodes:    1 \n#>     H2O cluster total memory:   1.85 GB \n#>     H2O cluster total cores:    8 \n#>     H2O cluster allowed cores:  8 \n#>     H2O cluster healthy:        TRUE \n#>     H2O Connection ip:          localhost \n#>     H2O Connection port:        54321 \n#>     H2O Connection proxy:       NA \n#>     H2O Internal Security:      FALSE \n#>     R Version:                  R version 4.2.3 (2023-03-15 ucrt)\n```\n:::\n:::\n\n::: {.cell hash='03_Automated_ML_with_H2O_cache/html/unnamed-chunk-3_f098672fd11dc5827c897bc9ac1f287f'}\n\n```{.r .cell-code}\nproduct_backorders_tbl <- read_csv(\"C:/Users/rampr/OneDrive/Documents/GitHub/ss23-bdml-muhundhan-ramprasath/product_backorders.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Rows: 19053 Columns: 23\n#> ── Column specification ────────────────────────────────────────────────────────\n#> Delimiter: \",\"\n#> chr  (7): potential_issue, deck_risk, oe_constraint, ppap_risk, stop_auto_bu...\n#> dbl (16): sku, national_inv, lead_time, in_transit_qty, forecast_3_month, fo...\n#> \n#> ℹ Use `spec()` to retrieve the full column specification for this data.\n#> ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n:::\n\n::: {.cell hash='03_Automated_ML_with_H2O_cache/html/unnamed-chunk-4_8adcb1bb5e907161944140f81648f3c8'}\n\n```{.r .cell-code}\nset.seed(seed = 1113)\nsplit_obj <- rsample::initial_split(product_backorders_tbl, prop = 0.85)\n\ntrain_tbl <- training(split_obj)\ntest_tbl  <- testing(split_obj)\n```\n:::\n\n::: {.cell hash='03_Automated_ML_with_H2O_cache/html/unnamed-chunk-5_4477a4992cd72fc2b0857dd3bad76cb9'}\n\n```{.r .cell-code}\nrecipe_obj <- recipe(went_on_backorder ~., data = train_tbl) %>% \n  prep()\n\ntrain_tbl <- bake(recipe_obj, new_data = train_tbl)\ntest_tbl  <- bake(recipe_obj, new_data = test_tbl)\n\nsplit_h2o <- h2o.splitFrame(as.h2o(train_tbl), ratios = c(0.85), seed = 1234)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> \n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |======================================================================| 100%\n```\n:::\n\n```{.r .cell-code}\ntrain_h2o <- split_h2o[[1]]\nvalid_h2o <- split_h2o[[2]]\ntest_h2o  <- as.h2o(test_tbl)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> \n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |======================================================================| 100%\n```\n:::\n:::\n\n::: {.cell hash='03_Automated_ML_with_H2O_cache/html/unnamed-chunk-6_0af5988bf72a1e435b2c85af1ec9a084'}\n\n```{.r .cell-code}\ny <- \"went_on_backorder\"\nx <- setdiff(names(train_h2o), y)\nautoml_models_h2o <- h2o.automl(\n  x = x,\n  y = y,\n  training_frame    = train_h2o,\n  validation_frame  = valid_h2o,\n  leaderboard_frame = test_h2o,\n  max_runtime_secs  = 30,\n  nfolds            = 5 \n)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> \n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |==                                                                    |   4%\n#> 16:41:39.52: User specified a validation frame with cross-validation still enabled. Please note that the models will still be validated using cross-validation only, the validation frame will be used to provide purely informative validation metrics on the trained models.\n#> 16:41:39.64: AutoML: XGBoost is not available; skipping it.\n  |                                                                            \n  |========                                                              |  11%\n  |                                                                            \n  |============                                                          |  18%\n  |                                                                            \n  |==================                                                    |  26%\n  |                                                                            \n  |========================                                              |  34%\n  |                                                                            \n  |=============================                                         |  41%\n  |                                                                            \n  |==================================                                    |  49%\n  |                                                                            \n  |========================================                              |  57%\n  |                                                                            \n  |==============================================                        |  66%\n  |                                                                            \n  |====================================================                  |  74%\n  |                                                                            \n  |=========================================================             |  82%\n  |                                                                            \n  |==============================================================        |  89%\n  |                                                                            \n  |====================================================================  |  97%\n  |                                                                            \n  |======================================================================| 100%\n```\n:::\n:::\n\n::: {.cell hash='03_Automated_ML_with_H2O_cache/html/unnamed-chunk-7_0080190113e2f3d573c2545dd3aee9e2'}\n\n```{.r .cell-code}\nmy_leaderboard <- as.tibble(automl_models_h2o@leaderboard)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: `as.tibble()` was deprecated in tibble 2.0.0.\n#> ℹ Please use `as_tibble()` instead.\n#> ℹ The signature and semantics have changed, see `?as_tibble`.\n```\n:::\n:::\n\n::: {.cell hash='03_Automated_ML_with_H2O_cache/html/unnamed-chunk-8_d9eaa29a1d24301ca486abdbcf2bb423'}\n\n```{.r .cell-code}\nmy_leaderboard\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"model_id\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"auc\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"logloss\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"aucpr\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"mean_per_class_error\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"rmse\"],\"name\":[6],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"mse\"],\"name\":[7],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"GBM_4_AutoML_3_20230615_164139\",\"2\":\"0.9467407\",\"3\":\"0.1925334\",\"4\":\"0.7326942\",\"5\":\"0.1788542\",\"6\":\"0.2368447\",\"7\":\"0.05609540\"},{\"1\":\"StackedEnsemble_BestOfFamily_2_AutoML_3_20230615_164139\",\"2\":\"0.9453681\",\"3\":\"0.1829982\",\"4\":\"0.7344740\",\"5\":\"0.1756871\",\"6\":\"0.2331130\",\"7\":\"0.05434168\"},{\"1\":\"StackedEnsemble_AllModels_1_AutoML_3_20230615_164139\",\"2\":\"0.9449282\",\"3\":\"0.1800441\",\"4\":\"0.7341417\",\"5\":\"0.1698118\",\"6\":\"0.2325651\",\"7\":\"0.05408654\"},{\"1\":\"GBM_1_AutoML_3_20230615_164139\",\"2\":\"0.9432174\",\"3\":\"0.1829561\",\"4\":\"0.7262349\",\"5\":\"0.1706074\",\"6\":\"0.2341353\",\"7\":\"0.05481936\"},{\"1\":\"StackedEnsemble_BestOfFamily_1_AutoML_3_20230615_164139\",\"2\":\"0.9432116\",\"3\":\"0.1831558\",\"4\":\"0.7263565\",\"5\":\"0.1617026\",\"6\":\"0.2342910\",\"7\":\"0.05489226\"},{\"1\":\"GBM_3_AutoML_3_20230615_164139\",\"2\":\"0.9421224\",\"3\":\"0.1973181\",\"4\":\"0.7160654\",\"5\":\"0.1816236\",\"6\":\"0.2389653\",\"7\":\"0.05710443\"},{\"1\":\"GBM_2_AutoML_3_20230615_164139\",\"2\":\"0.9344363\",\"3\":\"0.2129455\",\"4\":\"0.6851712\",\"5\":\"0.1622530\",\"6\":\"0.2491100\",\"7\":\"0.06205580\"},{\"1\":\"DRF_1_AutoML_3_20230615_164139\",\"2\":\"0.9259617\",\"3\":\"0.2232695\",\"4\":\"0.6806963\",\"5\":\"0.1755795\",\"6\":\"0.2508749\",\"7\":\"0.06293822\"},{\"1\":\"GLM_1_AutoML_3_20230615_164139\",\"2\":\"0.7833487\",\"3\":\"0.3219452\",\"4\":\"0.3217713\",\"5\":\"0.2842015\",\"6\":\"0.3060232\",\"7\":\"0.09365017\"},{\"1\":\"XRT_1_AutoML_3_20230615_164139\",\"2\":\"0.7290823\",\"3\":\"3.2538525\",\"4\":\"0.3640478\",\"5\":\"0.2774151\",\"6\":\"0.3354828\",\"7\":\"0.11254869\"},{\"1\":\"GBM_5_AutoML_3_20230615_164139\",\"2\":\"0.6666967\",\"3\":\"0.3612890\",\"4\":\"0.2196611\",\"5\":\"0.3905628\",\"6\":\"0.3231012\",\"7\":\"0.10439440\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}